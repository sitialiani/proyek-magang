<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detail Pengajuan Magang - Portal Dosen</title>
    
    <link href="/css/style.css" rel="stylesheet">
    
</head>
<body class="bg-content-bg">

    <div class="flex min-h-screen">
        <!-- =============== Sidebar Dosen =============== -->
        <aside class="w-64 bg-sidebar-bg text-white flex flex-col p-4 fixed h-full shadow-lg">
            <!-- Profile Photo & Info Dosen -->
            <div class="text-center py-4 border-b border-white/20">
                <img src="https://placehold.co/100x100/E7EEF0/5c7a89?text=Foto" alt="Foto Profil Dosen" class="rounded-lg w-24 h-24 mx-auto mb-3 border-4 border-white/30">
                <h3 class="font-bold text-lg">Dr. Anjali, S.Kom.</h3>
                <p class="text-sm">Dosen Pembimbing</p>
            </div>

            <!-- Ikon menggunakan data-lucide -->
            <nav class="mt-6 flex-grow">
                <ul class="space-y-2">
                    <li><a href="#" class="flex items-center gap-3 px-4 py-2.5 rounded-md hover:bg-sidebar-hover transition-colors duration-200">Dashboard</a></li>
                    <li><a href="#" class="flex items-center gap-3 px-4 py-2.5 rounded-md bg-sidebar-active font-semibold shadow-inner transition-colors duration-200">Mahasiswa Bimbingan</a></li>
                    <li><a href="#" class="flex items-center gap-3 px-4 py-2.5 rounded-md hover:bg-sidebar-hover transition-colors duration-200">Evaluasi Logbook</a></li>
                    <li><a href="#" class="flex items-center gap-3 px-4 py-2.5 rounded-md hover:bg-sidebar-hover transition-colors duration-200">Penilaian Laporan</a></li>
                </ul>
            </nav>

            <!-- Logout Button -->
            <div class="mt-auto">
                <a href="#" class="flex items-center gap-3 w-fit mx-auto px-6 py-2.5 rounded-md bg-red-600/80 hover:bg-red-700/80 transition-colors duration-200">
                    <i data-lucide="log-out" class="w-5 h-5"></i>
                    Logout
                </a>
            </div>
        </aside>

        <!-- =============== Main Content =============== -->
        <main class="ml-64 flex-1 p-8 overflow-y-auto">
            <!-- Header -->
            <header class="flex justify-between items-center mb-8">
                 <!-- Tombol "Kembali" -->
                <div class="flex items-center gap-4">
                    <a href="/dospem/mahasiswa-bimbingan" class="flex items-center gap-2 px-4 py-2 text-sm bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 font-semibold transition-colors shadow-sm">
                        <i data-lucide="arrow-left" class="w-5 h-5 text-gray-700"></i>
                        Kembali
                    </a>
                </div>
                <div class="flex items-center gap-4">
                    <div class="text-right">
                        <p class="font-semibold text-gray-800">Dr. Anjali, S.Kom.</p>
                        <p class="text-sm text-gray-500">Dosen Aktif</p>
                    </div>
                    <div class="w-12 h-12 bg-white rounded-full flex items-center justify-center shadow">
                        <i data-lucide="user" class="w-5 h-5 text-gray-600"></i>
                    </div>
                </div>
            </header>

            <!-- Judul Halaman Spesifik -->
            <div class="mb-8">
                 <h1 class="text-3xl font-bold text-gray-800">Detail Pengajuan Magang</h1>
                 <p class="text-gray-600">Siti Aliani (2311522006)</p>
            </div>

            <!-- CONTOH: Data ini akan datang dari server/database Anda -->
            <% const mahasiswa = { nama: 'Siti Aliani', nim: '2311522006', prodi: 'Sistem Informasi', email: 'siti.aliani@email.com', telepon: '0812-3456-7890' }; %>
            <% const magang = { perusahaan: 'PT. Teknologi Nusantara Jaya', alamat: 'Jl. Jenderal Sudirman No. 123, Jakarta Pusat', posisi: 'Junior Web Developer Intern', periode: '1 Agustus 2025 s/d 31 Oktober 2025', deskripsi: 'Membantu tim backend dalam mengembangkan dan memelihara fitur API untuk aplikasi internal perusahaan.' }; %>
            <% const pembimbingLapangan = { nama: 'Bapak Haryono', jabatan: 'Senior Developer', email: 'haryono@teknus.co.id', telepon: '0812-xxxx-xxxx' }; %>
            <% const pengajuan = { status: 'Disetujui', tanggalVerifikasi: '5 Juli 2025, 14:30 WIB', catatanAdmin: 'Mahasiswa telah memenuhi semua syarat administrasi. Mohon dapat dilanjutkan dengan proses bimbingan akademik.' }; %>
            <% const dokumen = [ { nama: 'Surat Penerimaan dari Perusahaan.pdf', url: '#' }, { nama: 'Proposal Magang Mahasiswa.pdf', url: '#' }, { nama: 'CV_Siti Aliani.pdf', url: '#' }, { nama: 'Transkrip_Nilai_Terakhir.pdf', url: '#' } ]; %>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                
                <!-- Kolom Kiri: Informasi Mahasiswa & Persetujuan -->
                <div class="lg:col-span-1 space-y-8">
                    <!-- Data Diri Mahasiswa -->
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <div class="flex items-center gap-4 mb-5">
                            <img src="https://placehold.co/80x80/E7EEF0/5c7a89?text=Siti" alt="Foto Mahasiswa" class="rounded-lg w-20 h-20">
                            <div>
                                <h3 class="font-bold text-lg text-gray-800"><%= mahasiswa.nama %></h3>
                                <p class="text-sm text-gray-500"><%= mahasiswa.nim %></p>
                                <p class="text-sm text-gray-500"><%= mahasiswa.prodi %></p>
                            </div>
                        </div>
                        <div class="text-sm space-y-2 text-gray-600">
                           <p><strong>Email:</strong> <%= mahasiswa.email %></p>
                           <p><strong>Telepon:</strong> <%= mahasiswa.telepon %></p>
                        </div>
                    </div>

                    <!-- Riwayat Persetujuan -->
                    <div class="bg-green-100/70 border-l-4 border-green-500 text-green-800 p-5 rounded-r-lg shadow-sm">
                        <h4 class="font-bold text-lg mb-3 flex items-center gap-2">
                            <i data-lucide="check-circle-2" class="w-5 h-5"></i>
                            Status Pengajuan
                        </h4>
                        <div class="space-y-2 text-sm">
                            <p><strong>Status:</strong> <span class="font-bold"><%= pengajuan.status %></span></p>
                            <p><strong>Tanggal Diverifikasi:</strong> <%= pengajuan.tanggalVerifikasi %></p>
                            <% if (pengajuan.catatanAdmin) { %>
                                <div class="pt-2 mt-2 border-t border-green-300">
                                    <p class="font-semibold">Catatan dari Admin:</p>
                                    <p class="italic">"<%= pengajuan.catatanAdmin %>"</p>
                                </div>
                            <% } %>
                        </div>
                    </div>
                </div>

                <!-- Kolom Kanan: Detail Magang & Dokumen -->
                <div class="lg:col-span-2 space-y-8">
                    <!-- Informasi Detail Magang -->
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h2 class="text-xl font-bold text-gray-800 mb-4 border-b pb-3">Informasi Detail Magang</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 text-sm mt-4">
                            <div class="space-y-1">
                                <p class="text-gray-500">Nama Perusahaan</p>
                                <p class="font-semibold text-gray-800"><%= magang.perusahaan %></p>
                            </div>
                            <div class="space-y-1">
                                <p class="text-gray-500">Alamat Perusahaan</p>
                                <p class="font-semibold text-gray-800"><%= magang.alamat %></p>
                            </div>
                            <div class="space-y-1">
                                <p class="text-gray-500">Posisi/Bidang Magang</p>
                                <p class="font-semibold text-gray-800"><%= magang.posisi %></p>
                            </div>
                            <div class="space-y-1">
                                <p class="text-gray-500">Periode Magang</p>
                                <p class="font-semibold text-gray-800"><%= magang.periode %></p>
                            </div>
                            <div class="md:col-span-2 space-y-1">
                                <p class="text-gray-500">Deskripsi Pekerjaan</p>
                                <p class="font-semibold text-gray-800"><%= magang.deskripsi %></p>
                            </div>
                            <div class="md:col-span-2 pt-4 mt-2 border-t">
                                 <p class="font-bold text-gray-500 mb-2">Pembimbing Lapangan</p>
                                 <p class="font-semibold text-gray-800"><%= pembimbingLapangan.nama %> (<%= pembimbingLapangan.jabatan %>)</p>
                                 <p class="text-gray-600"><%= pembimbingLapangan.email %> / <%= pembimbingLapangan.telepon %></p>
                            </div>
                        </div>
                    </div>

                     <!-- Dokumen Pendukung -->
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h2 class="text-xl font-bold text-gray-800 mb-4">Dokumen Pengajuan Terlampir</h2>
                        <ul class="space-y-2">
                           <% dokumen.forEach(doc => { %>
                            <li>
                                <a href="<%= doc.url %>" target="_blank" class="flex items-center gap-3 p-3 rounded-md bg-gray-50 hover:bg-sky-100 border border-gray-200 hover:border-sky-300 transition-colors">
                                    <i data-lucide="paperclip" class="w-5 h-5 text-gray-500"></i>
                                    <span class="font-medium text-blue-700 hover:underline"><%= doc.nama %></span>
                                </a>
                            </li>
                           <% }) %>
                        </ul>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- PERUBAHAN: Menggunakan skrip Lucide yang sudah berfungsi -->
    <script src="https://cdn.jsdelivr.net/npm/lucide@0.271.0/dist/umd/lucide.min.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        if (typeof lucide !== 'undefined') {
          lucide.createIcons();
        } else {
          console.error('Lucide tidak tersedia.');
        }
      });
    </script>
</body>
</html>
