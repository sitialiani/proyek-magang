<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>pengumuman - Portal Admin</title>
  <link href="/css/style.css" rel="stylesheet"/>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/lucide@0.271.0/dist/umd/lucide.min.js"></script>
</head>
<body class="bg-content-bg">

<div class="flex min-h-screen">
  <!-- Sidebar -->
    <aside class="w-72 bg-sidebar-bg text-white flex flex-col p-4 fixed h-full shadow-lg">
      <div class="text-center py-4 border-b border-white/20">
        <img src="https://placehold.co/100x100/E7EEF0/5c7a89?text=Admin" class="rounded-lg w-24 h-24 mx-auto mb-3 border-4 border-white/30" />
        <h3 class="font-bold text-lg">Admin Jurusan</h3>
        <p class="text-sm">Sistem Informasi</p>
      </div>
      <nav class="mt-6 flex-grow overflow-y-auto pr-2">
        <ul class="space-y-1 pb-4">
          <li><a href="/admin/dashboard" class="flex items-center gap-3 px-4 py-3 rounded-md hover:bg-sidebar-hover"><i data-lucide="layout-dashboard" class="w-5 h-5"></i> Dashboard</a></li>
          <li>
            <button class="w-full flex justify-between items-center px-4 py-3 hover:bg-sidebar-hover rounded-md" data-menu="konten">
              <span class="flex items-center gap-3"><i data-lucide="message-square"></i> Konten & Komunikasi</span>
              <i data-lucide="chevron-down" class="w-5 h-5 rotate-180"></i>
            </button>
            <div id="konten" class="pl-8 pt-1 space-y-1">
              <a href="/admin/pengumuman" class="block px-4 py-2.5 rounded-md bg-sidebar-active text-sm">Pengumuman</a>
              <a href="/admin/template-dokumen" class="block px-4 py-2.5 rounded-md hover:bg-sidebar-hover text-sm">Template Dokumen</a>
            </div>
          </li>
        </ul>
      </nav>

    <div class="mt-auto pt-4 border-t border-white/20">
      <a href="Logout" class="flex items-center gap-3 w-fit mx-auto px-6 py-2.5 rounded-md bg-red-600/80 hover:bg-red-700/80 transition-colors duration-200">
        <i data-lucide="log-out" class="w-5 h-5"></i> Logout
      </a>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="ml-72 pl-10 pr-10 py-10 flex-1 min-h-screen bg-[#F8FBFC]">
    <!-- Header -->
    <header class="flex justify-between items-center mb-5">
      <h1 class="text-2xl font-bold text-[#5C7988]">Tambah Pengumuman Magang</h1>
      <div class="flex items-center gap-4">
        <div class="text-right">
          <p class="font-semibold text-gray-800">Admin Jurusan</p>
          <p class="text-sm text-gray-500">Sistem Informasi</p>
        </div>
        <div class="w-12 h-12 bg-white rounded-full flex items-center justify-center shadow">
          <i data-lucide="user" class="w-6 h-6 text-gray-600"></i>
        </div>
      </div>
    </header>

    <!-- Form -->
    <div class="bg-white rounded-xl shadow-lg p-8 w-full">
      <form id="form-pengumuman" class="space-y-6">
        <div>
          <label for="judul" class="block font-medium text-[#5C7988] mb-2">Judul Pengumuman</label>
          <input type="text" id="judul" placeholder="Masukkan judul pengumuman"
                 class="w-full p-3 border border-[#8EAAB8] rounded-lg focus:ring-[#8EAAB8] focus:border-[#8EAAB8]">
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label for="tanggal" class="block font-medium text-[#5C7988] mb-2">Tanggal</label>
            <input type="date" id="tanggal"
                   class="w-full p-3 border border-[#8EAAB8] rounded-lg focus:ring-[#8EAAB8] focus:border-[#8EAAB8]">
          </div>
          <div>
            <label for="waktu" class="block font-medium text-[#5C7988] mb-2">Waktu</label>
            <input type="time" id="waktu"
                   class="w-full p-3 border border-[#8EAAB8] rounded-lg focus:ring-[#8EAAB8] focus:border-[#8EAAB8]">
          </div>
        </div>
        <div>
          <label for="isi" class="block font-medium text-[#5C7988] mb-2">Isi Pengumuman</label>
          <textarea id="isi" rows="6" placeholder="Tulis isi pengumuman di sini..."
                    class="w-full p-3 border border-[#8EAAB8] rounded-lg focus:ring-[#8EAAB8] focus:border-[#8EAAB8]"></textarea>
        </div>
        <div>
          <label for="lampiran" class="block font-medium text-[#5C7988] mb-2">Lampiran (Opsional)</label>
          <div class="flex items-center">
            <input type="file" id="lampiran" class="hidden">
            <label for="lampiran"
                   class="cursor-pointer bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-lg border border-gray-300 mr-3 transition">
              Pilih File
            </label>
            <span id="nama-file" class="text-sm text-gray-500">Belum ada file dipilih</span>
          </div>
          <p class="text-xs text-gray-500 mt-1">Format: PDF, DOCX, atau JPG (Maks. 5MB)</p>
        </div>
        <div>
          <label class="block font-medium text-[#5C7988] mb-2">Kategori</label>
          <div class="flex flex-wrap gap-4">
            <label class="inline-flex items-center">
              <input type="radio" name="kategori" value="magang" checked class="text-[#8EAAB8] focus:ring-[#8EAAB8]">
              <span class="ml-2">Tempat Magang</span>
            </label>
            <label class="inline-flex items-center">
              <input type="radio" name="kategori" value="umum" class="text-[#8EAAB8] focus:ring-[#8EAAB8]">
              <span class="ml-2">Pengumuman Umum</span>
            </label>
            <label class="inline-flex items-center">
              <input type="radio" name="kategori" value="penting" class="text-[#8EAAB8] focus:ring-[#8EAAB8]">
              <span class="ml-2">Pengumuman Penting</span>
            </label>
          </div>
        </div>
        <div class="flex justify-end gap-4 pt-4">
          <button type="button" class="bg-gray-300 hover:bg-gray-400 text-gray-800 px-6 py-2 rounded-lg transition">Batal</button>
          <button type="submit" class="bg-[#5C7988] hover:bg-[#4a6270] text-white px-6 py-2 rounded-lg transition">Simpan Pengumuman</button>
        </div>
      </form>
    </div>
  </main>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    lucide.createIcons();

    document.getElementById('lampiran').addEventListener('change', function (e) {
      const fileName = e.target.files[0] ? e.target.files[0].name : 'Belum ada file dipilih';
      document.getElementById('nama-file').textContent = fileName;
    });

    document.getElementById('tanggal').value = new Date().toISOString().split('T')[0];

    document.getElementById('form-pengumuman').addEventListener('submit', function (e) {
      e.preventDefault();
      const judul = document.getElementById('judul').value;
      alert(`Pengumuman "${judul}" berhasil disimpan!`);
      this.reset();
      document.getElementById('nama-file').textContent = 'Belum ada file dipilih';
    });

    const menuButtons = document.querySelectorAll('button[data-menu]');
    menuButtons.forEach(button => {
      button.addEventListener('click', () => {
        const menuId = button.dataset.menu;
        const submenu = document.getElementById(menuId);
        const icon = button.querySelector('[data-lucide="chevron-down"]');
        document.querySelectorAll('aside div[id]').forEach(div => {
          if (div !== submenu) div.classList.add('hidden');
        });
        submenu.classList.toggle('hidden');
        icon?.classList.toggle('rotate-180');
      });
    });
  });
</script>

</body>
</html>
